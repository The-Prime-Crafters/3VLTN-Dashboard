exports.id=979,exports.ids=[979],exports.modules={844:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},31418:(a,b,c)=>{Promise.resolve().then(c.bind(c,75328))},37292:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))},39727:()=>{},45173:(a,b,c)=>{"use strict";c.d(b,{Y:()=>h,k:()=>g});var d=c(21124),e=c(38301);c(66013);let f=(0,e.createContext)();function g({children:a,user:b}){let[c,g]=(0,e.useState)(null),[h,i]=(0,e.useState)([]),[j,k]=(0,e.useState)([]),[l,m]=(0,e.useState)({}),[n,o]=(0,e.useState)(!1),[p,q]=(0,e.useState)(0),[r,s]=(0,e.useState)({}),t=(0,e.useCallback)((a,b,d="text")=>{c&&n&&c.emit("send-message",{roomId:a,message:b,messageType:d})},[c,n]),u=(0,e.useCallback)(a=>{c&&n&&c.emit("create-direct-room",{targetUserId:a})},[c,n]),v=(0,e.useCallback)((a,b,d,e)=>{c&&n&&c.emit("create-room",{name:a,type:b,description:d,memberIds:e})},[c,n]),w=(0,e.useCallback)(a=>{c&&n&&(c.emit("mark-room-read",{roomId:a}),i(b=>b.map(b=>b.id===a?{...b,unread_count:0}:b)),q(b=>Math.max(0,b-(h.find(b=>b.id===a)?.unread_count||0))))},[c,n,h]),x=(0,e.useCallback)(a=>{c&&n&&c.emit("typing",{roomId:a,isTyping:!0})},[c,n]),y=(0,e.useCallback)(a=>{c&&n&&c.emit("typing",{roomId:a,isTyping:!1})},[c,n]),z=(0,e.useCallback)((a,b,d)=>{c&&n&&c.emit("edit-message",{messageId:a,newMessage:b,roomId:d})},[c,n]),A=(0,e.useCallback)((a,b)=>{c&&n&&c.emit("delete-message",{messageId:a,roomId:b})},[c,n]),B=(0,e.useCallback)(a=>{c&&n&&c.emit("update-status",{status:a})},[c,n]);return(0,d.jsx)(f.Provider,{value:{socket:c,connected:n,rooms:h,onlineUsers:j,messages:l,unreadCount:p,typingUsers:r,sendMessage:t,createDirectRoom:u,createRoom:v,markRoomAsRead:w,startTyping:x,stopTyping:y,editMessage:z,deleteMessage:A,updateStatus:B,setMessages:m},children:a})}let h=()=>{let a=(0,e.useContext)(f);if(!a)throw Error("useChat must be used within a ChatProvider");return a}},47990:()=>{},59096:(a,b,c)=>{Promise.resolve().then(c.bind(c,68770))},61135:()=>{},68770:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\erpai\\\\3VLTN\\\\3VLTN-Dashboard\\\\src\\\\app\\\\components\\\\LoadingState.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\erpai\\3VLTN\\3VLTN-Dashboard\\src\\app\\components\\LoadingState.js","default")},68824:(a,b,c)=>{Promise.resolve().then(c.bind(c,70304))},70304:(a,b,c)=>{"use strict";c.d(b,{default:()=>e});var d=c(21124);function e(){return(0,d.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsxs)("div",{className:"relative w-20 h-20 mx-auto mb-4",children:[(0,d.jsx)("div",{className:"absolute inset-0 border-4 border-yellow-400/20 rounded-full"}),(0,d.jsx)("div",{className:"absolute inset-0 border-4 border-yellow-400 rounded-full border-t-transparent animate-spin"})]}),(0,d.jsx)("p",{className:"text-gray-400 text-lg font-medium",children:"Loading..."})]})})}},70440:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(97523);let e=async a=>[{type:"image/x-icon",sizes:"16x16",url:(0,d.fillMetadataSegment)(".",await a.params,"favicon.ico")+""}]},75328:(a,b,c)=>{"use strict";c.d(b,{default:()=>l});var d=c(21124),e=c(42378),f=c(38301),g=c(3991),h=c.n(g),i=c(45173);let j=()=>{let a=(0,e.usePathname)(),b=(0,e.useRouter)(),[c,g]=(0,f.useState)(new Date().toLocaleTimeString()),[j,k]=(0,f.useState)(null),[l,m]=(0,f.useState)(!0),[n,o]=(0,f.useState)(!1),p=(0,i.Y)();(0,f.useEffect)(()=>{let a=setInterval(()=>{g(new Date().toLocaleTimeString())},1e3);return()=>clearInterval(a)},[]),(0,f.useEffect)(()=>{fetch("/api/auth/me").then(a=>a.json()).then(a=>{a.user&&k(a.user)}).catch(a=>console.error("Error fetching user:",a)).finally(()=>m(!1))},[]);let q=async()=>{try{await fetch("/api/auth/logout",{method:"POST"}),b.push("/login"),b.refresh()}catch(a){console.error("Logout error:",a)}},r=[{name:"Overview",href:"/",icon:"\uD83D\uDCCA",roles:["admin"]},{name:"Users",href:"/users",icon:"\uD83D\uDC65",roles:["admin","developer"]},{name:"Plans",href:"/plans",icon:"\uD83D\uDC8E",roles:["admin"]},{name:"Tickets",href:"/tickets",icon:"\uD83C\uDFAB",roles:["admin","developer","support"]},{name:"Chat",href:"/chat",icon:"\uD83D\uDCAC",roles:["admin","developer","support"]},{name:"Analytics",href:"/analytics",icon:"\uD83D\uDCC8",roles:["admin"]},{name:"Admin Panel",href:"/admin-panel",icon:"\uD83D\uDC51",roles:["admin"]}],s=j?r.filter(a=>a.roles.includes(j.role)):r;return(0,d.jsxs)("nav",{className:"w-72 min-w-72 max-w-72 glass-effect border-r border-gray-800/50 p-6 sticky top-0 h-screen overflow-y-auto flex-shrink-0",children:[(0,d.jsx)("div",{className:"mb-10 pb-6 border-b border-gray-800/50",children:(0,d.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,d.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-yellow-400 to-yellow-600 flex items-center justify-center shadow-lg shadow-yellow-400/20",children:(0,d.jsx)("span",{className:"text-xl font-bold text-black",children:"3V"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-2xl font-bold gradient-text",children:"3VLTN"}),(0,d.jsx)("p",{className:"text-gray-500 text-xs font-medium",children:"Admin Dashboard"})]})]})}),(0,d.jsxs)("div",{className:"space-y-1 mb-8",children:[(0,d.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider px-4 mb-3",children:"Navigation"}),(0,d.jsx)("ul",{className:"space-y-1",children:s.map(b=>{let c=a===b.href,e="/chat"===b.href&&p?.unreadCount?p.unreadCount:0;return(0,d.jsx)("li",{children:(0,d.jsxs)(h(),{href:b.href,onClick:a=>{c||(o(!0),setTimeout(()=>o(!1),500))},className:`flex items-center space-x-3 px-4 py-3.5 rounded-xl transition-all duration-200 group relative overflow-hidden ${c?"bg-gradient-to-r from-yellow-400 to-yellow-500 text-black font-semibold shadow-lg shadow-yellow-400/30":"text-gray-300 hover:bg-gray-800/60 hover:text-white"}`,children:[c&&(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-300 to-yellow-400 opacity-0 group-hover:opacity-20 transition-opacity duration-200"}),(0,d.jsx)("span",{className:`text-xl transition-transform duration-200 ${c?"scale-110":"group-hover:scale-110"}`,children:b.icon}),(0,d.jsxs)("span",{className:"relative flex items-center gap-2",children:[b.name,e>0&&(0,d.jsx)("span",{className:"bg-red-500 text-white text-xs px-2 py-0.5 rounded-full font-bold min-w-[20px] text-center",children:e>99?"99+":e})]})]})},b.name)})})]}),(0,d.jsxs)("div",{className:"mt-auto space-y-4",children:[!l&&j&&(0,d.jsx)("div",{className:"border-t border-gray-800/50 pt-4",children:(0,d.jsxs)("div",{className:"bg-gradient-to-br from-gray-800/40 to-gray-900/40 rounded-xl p-4 backdrop-blur-sm border border-gray-700/30",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center shadow-lg",children:(0,d.jsx)("span",{className:"text-white font-bold text-sm",children:j.fullName?.[0]?.toUpperCase()||"U"})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("p",{className:"text-sm font-semibold text-white truncate",children:j.fullName}),(0,d.jsx)("p",{className:"text-xs text-gray-400 truncate",children:j.email})]})]}),(0,d.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,d.jsx)("span",{className:`px-2 py-1 rounded-lg text-xs font-bold ${"admin"===j.role?"bg-purple-500/20 text-purple-400":"developer"===j.role?"bg-blue-500/20 text-blue-400":"bg-green-500/20 text-green-400"}`,children:j.role.toUpperCase()})}),(0,d.jsx)("button",{onClick:q,className:"w-full py-2 bg-red-500/20 hover:bg-red-500/30 text-red-400 font-semibold rounded-lg transition-colors text-sm",children:"\uD83D\uDEAA Logout"})]})}),(0,d.jsxs)("div",{className:"bg-gradient-to-br from-gray-800/40 to-gray-900/40 rounded-xl p-4 backdrop-blur-sm border border-gray-700/30",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,d.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse shadow-lg shadow-green-400/50"}),(0,d.jsx)("span",{className:"text-xs font-semibold text-gray-300",children:"System Online"})]}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"Last updated:"}),(0,d.jsx)("p",{className:"text-xs text-gray-400 font-mono",children:c})]})]})]})};var k=c(70304);function l({children:a}){let b=(0,e.usePathname)(),[c,g]=(0,f.useState)(null),[h,l]=(0,f.useState)(!1);return["/login","/register","/track","/complaint"].some(a=>b.startsWith(a))?(0,d.jsx)("main",{className:"min-h-screen w-full",children:a}):(0,d.jsx)(i.k,{user:c,children:(0,d.jsxs)("div",{className:"flex min-h-screen",children:[(0,d.jsx)(j,{}),(0,d.jsx)("main",{className:"flex-1 p-8 lg:p-10 relative",children:(0,d.jsxs)("div",{className:"max-w-[1600px] mx-auto",children:[h&&(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0a0a0a] to-[#1a1a1a] bg-opacity-50 backdrop-blur-sm z-40 flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsxs)("div",{className:"relative w-16 h-16 mx-auto mb-3",children:[(0,d.jsx)("div",{className:"absolute inset-0 border-4 border-yellow-400/20 rounded-full"}),(0,d.jsx)("div",{className:"absolute inset-0 border-4 border-yellow-400 rounded-full border-t-transparent animate-spin"})]}),(0,d.jsx)("p",{className:"text-gray-400 text-sm font-medium",children:"Loading..."})]})}),(0,d.jsx)(f.Suspense,{fallback:(0,d.jsx)(k.default,{}),children:a})]})})]})})}},81581:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\erpai\\\\3VLTN\\\\3VLTN-Dashboard\\\\src\\\\app\\\\components\\\\ConditionalLayout.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\erpai\\3VLTN\\3VLTN-Dashboard\\src\\app\\components\\ConditionalLayout.js","default")},84562:(a,b,c)=>{Promise.resolve().then(c.bind(c,81581))},93550:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>f});var d=c(75338),e=c(68770);function f(){return(0,d.jsx)(e.default,{})}},97634:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>k,metadata:()=>j});var d=c(75338),e=c(52294),f=c.n(e),g=c(79336),h=c.n(g);c(61135);var i=c(81581);let j={title:"3VLTN Dashboard",description:"Dashboard for monitoring users, plans, and app issues"};function k({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsx)("body",{className:`${f().variable} ${h().variable} antialiased bg-gradient-to-br from-[#0a0a0a] to-[#1a1a1a] text-white`,children:(0,d.jsx)(i.default,{children:a})})})}}};