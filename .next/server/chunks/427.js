"use strict";exports.id=427,exports.ids=[427],exports.modules={10283:(a,b,c)=>{c.d(b,{I:()=>j});var d=c(52620),e=c(25677),f=c(89417);let g=a=>a?.[Symbol.toStringTag],h=(a,b,c)=>{if(void 0!==b.use&&"sig"!==b.use)throw TypeError("Invalid key for this operation, when present its use must be sig");if(void 0!==b.key_ops&&b.key_ops.includes?.(c)!==!0)throw TypeError(`Invalid key for this operation, when present its key_ops must include ${c}`);if(void 0!==b.alg&&b.alg!==a)throw TypeError(`Invalid key for this operation, when present its alg must be ${a}`);return!0};function i(a,b,c,i){b.startsWith("HS")||"dir"===b||b.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(b)?((a,b,c,i)=>{if(!(b instanceof Uint8Array)){if(i&&f.ll(b)){if(f.t9(b)&&h(a,b,c))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!(0,e.A)(b))throw TypeError((0,d.t)(a,b,...e.g,"Uint8Array",i?"JSON Web Key":null));if("secret"!==b.type)throw TypeError(`${g(b)} instances for symmetric algorithms must be of type "secret"`)}})(b,c,i,a):((a,b,c,i)=>{if(i&&f.ll(b))switch(c){case"sign":if(f.W2(b)&&h(a,b,c))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(f.M3(b)&&h(a,b,c))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!(0,e.A)(b))throw TypeError((0,d.t)(a,b,...e.g,i?"JSON Web Key":null));if("secret"===b.type)throw TypeError(`${g(b)} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===c&&"public"===b.type)throw TypeError(`${g(b)} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===c&&"public"===b.type)throw TypeError(`${g(b)} instances for asymmetric algorithm decryption must be of type "private"`);if(b.algorithm&&"verify"===c&&"private"===b.type)throw TypeError(`${g(b)} instances for asymmetric algorithm verifying must be of type "public"`);if(b.algorithm&&"encrypt"===c&&"private"===b.type)throw TypeError(`${g(b)} instances for asymmetric algorithm encryption must be of type "public"`)})(b,c,i,a)}i.bind(void 0,!1);let j=i.bind(void 0,!0)},14230:(a,b,c)=>{Object.defineProperty(b,"U",{enumerable:!0,get:function(){return n}});let d=c(28706),e=c(33675),f=c(29294),g=c(63033),h=c(26906),i=c(11938),j=c(82831),k=c(30787),l=c(31716),m=c(49290);function n(){let a="cookies",b=f.workAsyncStorage.getStore(),c=g.workUnitAsyncStorage.getStore();if(b){if(c&&"after"===c.phase&&!(0,l.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${b.route} used "cookies" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "cookies" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E88",enumerable:!1,configurable:!0});if(b.forceStatic)return p(d.RequestCookiesAdapter.seal(new e.RequestCookies(new Headers({}))));if(b.dynamicShouldError)throw Object.defineProperty(new i.StaticGenBailoutError(`Route ${b.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E549",enumerable:!1,configurable:!0});if(c)switch(c.type){case"cache":let f=Object.defineProperty(Error(`Route ${b.route} used "cookies" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E398",enumerable:!1,configurable:!0});throw Error.captureStackTrace(f,n),b.invalidDynamicUsageError??=f,f;case"unstable-cache":throw Object.defineProperty(Error(`Route ${b.route} used "cookies" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E157",enumerable:!1,configurable:!0});case"prerender":var k=b,q=c;let g=o.get(q);if(g)return g;let r=(0,j.makeHangingPromise)(q.renderSignal,k.route,"`cookies()`");return o.set(q,r),r;case"prerender-client":let s="`cookies`";throw Object.defineProperty(new m.InvariantError(`${s} must not be used within a client component. Next.js should be preventing ${s} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,h.postponeWithTracking)(b.route,a,c.dynamicTracking);case"prerender-legacy":return(0,h.throwToInterruptStaticGeneration)(a,b,c);case"prerender-runtime":return(0,h.delayUntilRuntimeStage)(c,function(a){let b=o.get(a);if(b)return b;let c=Promise.resolve(a);return o.set(a,c),c}(c.cookies));case"private-cache":return p(c.cookies);case"request":return(0,h.trackDynamicDataInDynamicRender)(c),p((0,d.areCookiesMutableInCurrentPhase)(c)?c.userspaceMutableCookies:c.cookies)}}(0,g.throwForMissingRequestStore)(a)}c(63036);let o=new WeakMap;function p(a){let b=o.get(a);if(b)return b;let c=Promise.resolve(a);return o.set(a,c),Object.defineProperties(c,{[Symbol.iterator]:{value:a[Symbol.iterator]?a[Symbol.iterator].bind(a):q.bind(a)},size:{get:()=>a.size},get:{value:a.get.bind(a)},getAll:{value:a.getAll.bind(a)},has:{value:a.has.bind(a)},set:{value:a.set.bind(a)},delete:{value:a.delete.bind(a)},clear:{value:"function"==typeof a.clear?a.clear.bind(a):r.bind(a,c)},toString:{value:a.toString.bind(a)}}),c}function q(){return this.getAll().map(a=>[a.name,a]).values()}function r(a){for(let a of this.getAll())this.delete(a.name);return a}(0,k.createDedupedByCallsiteServerErrorLoggerDev)(function(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`cookies()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E223",enumerable:!1,configurable:!0})})},14586:(a,b,c)=>{c.d(b,{A:()=>l});var d=c(77598),e=c(71904);function f(a,b="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${b} must be ${a}`)}function g(a,b){return a.name===b}function h(a){return parseInt(a.name.slice(4),10)}var i=c(52620),j=c(25677),k=c(89417);function l(a,b,c){if(b instanceof Uint8Array){if(!a.startsWith("HS"))throw TypeError((0,i.A)(b,...j.g));return(0,d.createSecretKey)(b)}if(b instanceof d.KeyObject)return b;if((0,e.R)(b))return!function(a,b,...c){switch(b){case"HS256":case"HS384":case"HS512":{if(!g(a.algorithm,"HMAC"))throw f("HMAC");let c=parseInt(b.slice(2),10);if(h(a.algorithm.hash)!==c)throw f(`SHA-${c}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!g(a.algorithm,"RSASSA-PKCS1-v1_5"))throw f("RSASSA-PKCS1-v1_5");let c=parseInt(b.slice(2),10);if(h(a.algorithm.hash)!==c)throw f(`SHA-${c}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!g(a.algorithm,"RSA-PSS"))throw f("RSA-PSS");let c=parseInt(b.slice(2),10);if(h(a.algorithm.hash)!==c)throw f(`SHA-${c}`,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==a.algorithm.name&&"Ed448"!==a.algorithm.name)throw f("Ed25519 or Ed448");break;case"Ed25519":if(!g(a.algorithm,"Ed25519"))throw f("Ed25519");break;case"ES256":case"ES384":case"ES512":{if(!g(a.algorithm,"ECDSA"))throw f("ECDSA");let c=function(a){switch(a){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}(b);if(a.algorithm.namedCurve!==c)throw f(c,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}if(c.length&&!c.some(b=>a.usages.includes(b))){let a="CryptoKey does not support this operation, its usages must include ";if(c.length>2){let b=c.pop();a+=`one of ${c.join(", ")}, or ${b}.`}else 2===c.length?a+=`one of ${c[0]} or ${c[1]}.`:a+=`${c[0]}.`;throw TypeError(a)}}(b,a,c),d.KeyObject.from(b);if(k.ll(b))return a.startsWith("HS")?(0,d.createSecretKey)(Buffer.from(b.k,"base64url")):b;throw TypeError((0,i.A)(b,...j.g,"Uint8Array","JSON Web Key"))}},17094:(a,b,c)=>{c.d(b,{Dp:()=>j,Rb:()=>g,T0:()=>h,Ye:()=>i,h2:()=>l,ie:()=>e,n:()=>f});class d extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(a,b){super(a,b),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class e extends d{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(a,b,c="unspecified",d="unspecified"){super(a,{cause:{claim:c,reason:d,payload:b}}),this.claim=c,this.reason=d,this.payload=b}}class f extends d{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(a,b,c="unspecified",d="unspecified"){super(a,{cause:{claim:c,reason:d,payload:b}}),this.claim=c,this.reason=d,this.payload=b}}class g extends d{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class h extends d{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class i extends d{static code="ERR_JWS_INVALID";code="ERR_JWS_INVALID"}class j extends d{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class k extends d{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(a="multiple matching keys found in the JSON Web Key Set",b){super(a,b)}}class l extends d{static code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";constructor(a="signature verification failed",b){super(a,b)}}},17738:(a,b,c)=>{c.d(b,{A:()=>d});function d(a){if("object"!=typeof a||null===a||"[object Object]"!==Object.prototype.toString.call(a))return!1;if(null===Object.getPrototypeOf(a))return!0;let b=a;for(;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b}},25677:(a,b,c)=>{c.d(b,{A:()=>f,g:()=>g});var d=c(71904),e=c(80657);let f=a=>(0,e.A)(a)||(0,d.R)(a),g=["KeyObject"];(globalThis.CryptoKey||d.A?.CryptoKey)&&g.push("CryptoKey")},26950:(a,b,c)=>{c.d(b,{A:()=>e});var d=c(17094);function e(a){switch(a){case"PS256":case"RS256":case"ES256":case"ES256K":return"sha256";case"PS384":case"RS384":case"ES384":return"sha384";case"PS512":case"RS512":case"ES512":return"sha512";case"Ed25519":case"EdDSA":return;default:throw new d.T0(`alg ${a} is not supported either by JOSE or your javascript runtime`)}}},28706:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{MutableRequestCookiesAdapter:function(){return l},ReadonlyRequestCookiesError:function(){return g},RequestCookiesAdapter:function(){return h},appendMutableCookies:function(){return k},areCookiesMutableInCurrentPhase:function(){return n},createCookiesWithMutableAccessCheck:function(){return m},getModifiedCookieValues:function(){return j},responseCookiesToRequestCookies:function(){return p}});let d=c(33675),e=c(63036),f=c(29294);class g extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new g}}class h{static seal(a){return new Proxy(a,{get(a,b,c){switch(b){case"clear":case"delete":case"set":return g.callable;default:return e.ReflectAdapter.get(a,b,c)}}})}}let i=Symbol.for("next.mutated.cookies");function j(a){let b=a[i];return b&&Array.isArray(b)&&0!==b.length?b:[]}function k(a,b){let c=j(b);if(0===c.length)return!1;let e=new d.ResponseCookies(a),f=e.getAll();for(let a of c)e.set(a);for(let a of f)e.set(a);return!0}class l{static wrap(a,b){let c=new d.ResponseCookies(new Headers);for(let b of a.getAll())c.set(b);let g=[],h=new Set,j=()=>{let a=f.workAsyncStorage.getStore();if(a&&(a.pathWasRevalidated=!0),g=c.getAll().filter(a=>h.has(a.name)),b){let a=[];for(let b of g){let c=new d.ResponseCookies(new Headers);c.set(b),a.push(c.toString())}b(a)}},k=new Proxy(c,{get(a,b,c){switch(b){case i:return g;case"delete":return function(...b){h.add("string"==typeof b[0]?b[0]:b[0].name);try{return a.delete(...b),k}finally{j()}};case"set":return function(...b){h.add("string"==typeof b[0]?b[0]:b[0].name);try{return a.set(...b),k}finally{j()}};default:return e.ReflectAdapter.get(a,b,c)}}});return k}}function m(a){let b=new Proxy(a.mutableCookies,{get(c,d,f){switch(d){case"delete":return function(...d){return o(a,"cookies().delete"),c.delete(...d),b};case"set":return function(...d){return o(a,"cookies().set"),c.set(...d),b};default:return e.ReflectAdapter.get(c,d,f)}}});return b}function n(a){return"action"===a.phase}function o(a,b){if(!n(a))throw new g}function p(a){let b=new d.RequestCookies(new Headers);for(let c of a.getAll())b.set(c);return b}},30787:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return i}});let d=function(a,b){if(a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=e(b);if(c&&c.has(a))return c.get(a);var d={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(d,g,h):d[g]=a[g]}return d.default=a,c&&c.set(a,d),d}(c(74515));function e(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(e=function(a){return a?c:b})(a)}let f={current:null},g="function"==typeof d.cache?d.cache:a=>a,h=console.warn;function i(a){return function(...b){h(a(...b))}}g(a=>{try{h(f.current)}finally{f.current=null}})},34603:(a,b,c)=>{let d=c(67675),e=c(29294),f=c(63033),g=c(26906),h=c(11938),i=c(82831),j=c(30787),k=c(31716),l=c(49290);c(63036);new WeakMap;(0,j.createDedupedByCallsiteServerErrorLoggerDev)(function(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`headers()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E277",enumerable:!1,configurable:!0})})},35916:(a,b,c)=>{let d=c(63033),e=c(29294),f=c(26906),g=c(30787),h=c(11938),i=c(69168),j=c(49290);c(63036);new WeakMap;(0,g.createDedupedByCallsiteServerErrorLoggerDev)(function(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`draftMode()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E377",enumerable:!1,configurable:!0})})},36242:(a,b,c)=>{c.d(b,{A:()=>m});var d=c(77598),e=c(17094),f=c(71904),g=c(80657),h=c(52620),i=c(25677),j=c(89417);new WeakMap;let k=(a,b)=>{let c;try{c=a instanceof d.KeyObject?a.asymmetricKeyDetails?.modulusLength:Buffer.from(a.n,"base64url").byteLength<<3}catch{}if("number"!=typeof c||c<2048)throw TypeError(`${b} requires key modulusLength to be 2048 bits or larger`)},l=new Map([["ES256","P-256"],["ES256K","secp256k1"],["ES384","P-384"],["ES512","P-521"]]);function m(a,b){let c,m,n,o;if(b instanceof d.KeyObject)c=b.asymmetricKeyType,m=b.asymmetricKeyDetails;else switch(n=!0,b.kty){case"RSA":c="rsa";break;case"EC":c="ec";break;case"OKP":if("Ed25519"===b.crv){c="ed25519";break}if("Ed448"===b.crv){c="ed448";break}throw TypeError("Invalid key for this operation, its crv must be Ed25519 or Ed448");default:throw TypeError("Invalid key for this operation, its kty must be RSA, OKP, or EC")}switch(a){case"Ed25519":if("ed25519"!==c)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519");break;case"EdDSA":if(!["ed25519","ed448"].includes(c))throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519 or ed448");break;case"RS256":case"RS384":case"RS512":if("rsa"!==c)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");k(b,a);break;case"PS256":case"PS384":case"PS512":if("rsa-pss"===c){let{hashAlgorithm:b,mgf1HashAlgorithm:c,saltLength:d}=m,e=parseInt(a.slice(-3),10);if(void 0!==b&&(b!==`sha${e}`||c!==b))throw TypeError(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${a}`);if(void 0!==d&&d>e>>3)throw TypeError(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${a}`)}else if("rsa"!==c)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa or rsa-pss");k(b,a),o={padding:d.constants.RSA_PKCS1_PSS_PADDING,saltLength:d.constants.RSA_PSS_SALTLEN_DIGEST};break;case"ES256":case"ES256K":case"ES384":case"ES512":{if("ec"!==c)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ec");let k=((a,b)=>{let c;if((0,f.R)(a))c=d.KeyObject.from(a);else if((0,g.A)(a))c=a;else if((0,j.ll)(a))return a.crv;else throw TypeError((0,h.A)(a,...i.g));if("secret"===c.type)throw TypeError('only "private" or "public" type keys can be used for this operation');switch(c.asymmetricKeyType){case"ed25519":case"ed448":return`Ed${c.asymmetricKeyType.slice(2)}`;case"x25519":case"x448":return`X${c.asymmetricKeyType.slice(1)}`;case"ec":{let a=c.asymmetricKeyDetails.namedCurve;switch(a){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new e.T0("Unsupported key curve for this operation")}}default:throw TypeError("Invalid asymmetric key type for this operation")}})(b),m=l.get(a);if(k!==m)throw TypeError(`Invalid key curve for the algorithm, its curve must be ${m}, got ${k}`);o={dsaEncoding:"ieee-p1363"};break}default:throw new e.T0(`alg ${a} is not supported either by JOSE or your javascript runtime`)}return n?{format:"jwk",key:b,...o}:o?{...o,key:b}:b}},42570:(a,b,c)=>{c.d(b,{P:()=>r});var d=c(85955),e=c(79486),f=c(57833),g=c(17094),h=c(53182),i=c(10283),j=c(90771);class k{_payload;_protectedHeader;_unprotectedHeader;constructor(a){if(!(a instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this._payload=a}setProtectedHeader(a){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=a,this}setUnprotectedHeader(a){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=a,this}async sign(a,b){let c;if(!this._protectedHeader&&!this._unprotectedHeader)throw new g.Ye("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!(0,f.A)(this._protectedHeader,this._unprotectedHeader))throw new g.Ye("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let k={...this._protectedHeader,...this._unprotectedHeader},l=(0,j.A)(g.Ye,new Map([["b64",!0]]),b?.crit,this._protectedHeader,k),m=!0;if(l.has("b64")&&"boolean"!=typeof(m=this._protectedHeader.b64))throw new g.Ye('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:n}=k;if("string"!=typeof n||!n)throw new g.Ye('JWS "alg" (Algorithm) Header Parameter missing or invalid');(0,i.I)(n,a,"sign");let o=this._payload;m&&(o=h.Rd.encode((0,d.lF)(o))),c=this._protectedHeader?h.Rd.encode((0,d.lF)(JSON.stringify(this._protectedHeader))):h.Rd.encode("");let p=(0,h.xW)(c,h.Rd.encode("."),o),q=await (0,e.A)(n,a,p),r={signature:(0,d.lF)(q),payload:""};return m&&(r.payload=h.D0.decode(o)),this._unprotectedHeader&&(r.header=this._unprotectedHeader),this._protectedHeader&&(r.protected=h.D0.decode(c)),r}}class l{_flattened;constructor(a){this._flattened=new k(a)}setProtectedHeader(a){return this._flattened.setProtectedHeader(a),this}async sign(a,b){let c=await this._flattened.sign(a,b);if(void 0===c.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${c.protected}.${c.payload}.${c.signature}`}}var m=c(57129),n=c(17738),o=c(83368);function p(a,b){if(!Number.isFinite(b))throw TypeError(`Invalid ${a} input`);return b}class q{_payload;constructor(a={}){if(!(0,n.A)(a))throw TypeError("JWT Claims Set MUST be an object");this._payload=a}setIssuer(a){return this._payload={...this._payload,iss:a},this}setSubject(a){return this._payload={...this._payload,sub:a},this}setAudience(a){return this._payload={...this._payload,aud:a},this}setJti(a){return this._payload={...this._payload,jti:a},this}setNotBefore(a){return"number"==typeof a?this._payload={...this._payload,nbf:p("setNotBefore",a)}:a instanceof Date?this._payload={...this._payload,nbf:p("setNotBefore",(0,m.A)(a))}:this._payload={...this._payload,nbf:(0,m.A)(new Date)+(0,o.A)(a)},this}setExpirationTime(a){return"number"==typeof a?this._payload={...this._payload,exp:p("setExpirationTime",a)}:a instanceof Date?this._payload={...this._payload,exp:p("setExpirationTime",(0,m.A)(a))}:this._payload={...this._payload,exp:(0,m.A)(new Date)+(0,o.A)(a)},this}setIssuedAt(a){return void 0===a?this._payload={...this._payload,iat:(0,m.A)(new Date)}:a instanceof Date?this._payload={...this._payload,iat:p("setIssuedAt",(0,m.A)(a))}:"string"==typeof a?this._payload={...this._payload,iat:p("setIssuedAt",(0,m.A)(new Date)+(0,o.A)(a))}:this._payload={...this._payload,iat:p("setIssuedAt",a)},this}}class r extends q{_protectedHeader;setProtectedHeader(a){return this._protectedHeader=a,this}async sign(a,b){let c=new l(h.Rd.encode(JSON.stringify(this._payload)));if(c.setProtectedHeader(this._protectedHeader),Array.isArray(this._protectedHeader?.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new g.Dp("JWTs MUST NOT use unencoded payload");return c.sign(a,b)}}},52620:(a,b,c)=>{function d(a,b,...c){if((c=c.filter(Boolean)).length>2){let b=c.pop();a+=`one of type ${c.join(", ")}, or ${b}.`}else 2===c.length?a+=`one of type ${c[0]} or ${c[1]}.`:a+=`of type ${c[0]}.`;return null==b?a+=` Received ${b}`:"function"==typeof b&&b.name?a+=` Received function ${b.name}`:"object"==typeof b&&null!=b&&b.constructor?.name&&(a+=` Received an instance of ${b.constructor.name}`),a}c.d(b,{A:()=>e,t:()=>f});let e=(a,...b)=>d("Key must be ",a,...b);function f(a,b,...c){return d(`Key for the ${a} algorithm must be `,b,...c)}},53182:(a,b,c)=>{c.d(b,{D0:()=>e,Rd:()=>d,xW:()=>f});let d=new TextEncoder,e=new TextDecoder;function f(...a){let b=new Uint8Array(a.reduce((a,{length:b})=>a+b,0)),c=0;for(let d of a)b.set(d,c),c+=d.length;return b}},57129:(a,b,c)=>{c.d(b,{A:()=>d});let d=a=>Math.floor(a.getTime()/1e3)},57833:(a,b,c)=>{c.d(b,{A:()=>d});let d=(...a)=>{let b,c=a.filter(Boolean);if(0===c.length||1===c.length)return!0;for(let a of c){let c=Object.keys(a);if(!b||0===b.size){b=new Set(c);continue}for(let a of c){if(b.has(a))return!1;b.add(a)}}return!0}},71904:(a,b,c)=>{c.d(b,{A:()=>f,R:()=>g});var d=c(77598),e=c(57975);let f=d.webcrypto,g=a=>e.types.isCryptoKey(a)},79486:(a,b,c)=>{c.d(b,{A:()=>k});var d=c(77598),e=c(57975),f=c(26950),g=c(17094),h=c(36242),i=c(14586);let j=(0,e.promisify)(d.sign),k=async(a,b,c)=>{let e=(0,i.A)(a,b,"sign");if(a.startsWith("HS")){let b=d.createHmac(function(a){switch(a){case"HS256":return"sha256";case"HS384":return"sha384";case"HS512":return"sha512";default:throw new g.T0(`alg ${a} is not supported either by JOSE or your javascript runtime`)}}(a),e);return b.update(c),b.digest()}return j((0,f.A)(a),c,(0,h.A)(a,e))}},80657:(a,b,c)=>{c.d(b,{A:()=>e});var d=c(57975);let e=a=>d.types.isKeyObject(a)},83368:(a,b,c)=>{c.d(b,{A:()=>e});let d=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,e=a=>{let b,c=d.exec(a);if(!c||c[4]&&c[1])throw TypeError("Invalid time period format");let e=parseFloat(c[2]);switch(c[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":b=Math.round(e);break;case"minute":case"minutes":case"min":case"mins":case"m":b=Math.round(60*e);break;case"hour":case"hours":case"hr":case"hrs":case"h":b=Math.round(3600*e);break;case"day":case"days":case"d":b=Math.round(86400*e);break;case"week":case"weeks":case"w":b=Math.round(604800*e);break;default:b=Math.round(0x1e187e0*e)}return"-"===c[1]||"ago"===c[4]?-b:b}},85955:(a,b,c)=>{c.d(b,{D4:()=>g,lF:()=>f});var d=c(4573),e=c(53182);let f=a=>d.Buffer.from(a).toString("base64url"),g=a=>new Uint8Array(d.Buffer.from(function(a){let b=a;return b instanceof Uint8Array&&(b=e.D0.decode(b)),b}(a),"base64url"))},86802:(a,b,c)=>{c.d(b,{UL:()=>d.U});var d=c(14230);c(34603),c(35916)},89417:(a,b,c)=>{c.d(b,{M3:()=>g,W2:()=>f,ll:()=>e,t9:()=>h});var d=c(17738);function e(a){return(0,d.A)(a)&&"string"==typeof a.kty}function f(a){return"oct"!==a.kty&&"string"==typeof a.d}function g(a){return"oct"!==a.kty&&void 0===a.d}function h(a){return e(a)&&"oct"===a.kty&&"string"==typeof a.k}},90771:(a,b,c)=>{c.d(b,{A:()=>e});var d=c(17094);let e=function(a,b,c,e,f){let g;if(void 0!==f.crit&&e?.crit===void 0)throw new a('"crit" (Critical) Header Parameter MUST be integrity protected');if(!e||void 0===e.crit)return new Set;if(!Array.isArray(e.crit)||0===e.crit.length||e.crit.some(a=>"string"!=typeof a||0===a.length))throw new a('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let h of(g=void 0!==c?new Map([...Object.entries(c),...b.entries()]):b,e.crit)){if(!g.has(h))throw new d.T0(`Extension Header Parameter "${h}" is not recognized`);if(void 0===f[h])throw new a(`Extension Header Parameter "${h}" is missing`);if(g.get(h)&&void 0===e[h])throw new a(`Extension Header Parameter "${h}" MUST be integrity protected`)}return new Set(e.crit)}},94069:(a,b,c)=>{c.d(b,{V:()=>z});var d=c(85955),e=c(77598),f=c(57975),g=c(26950),h=c(36242),i=c(79486),j=c(14586);let k=(0,f.promisify)(e.verify),l=async(a,b,c,d)=>{let f=(0,j.A)(a,b,"verify");if(a.startsWith("HS")){let b=await (0,i.A)(a,f,d);try{return e.timingSafeEqual(c,b)}catch{return!1}}let l=(0,g.A)(a),m=(0,h.A)(a,f);try{return await k(l,d,m,c)}catch{return!1}};var m=c(17094),n=c(53182),o=c(57833),p=c(17738),q=c(10283),r=c(90771),s=c(89417);async function t(a,b){if(!(0,p.A)(a))throw TypeError("JWK must be an object");switch(b||=a.alg,a.kty){case"oct":if("string"!=typeof a.k||!a.k)throw TypeError('missing "k" (Key Value) Parameter value');return(0,d.D4)(a.k);case"RSA":if("oth"in a&&void 0!==a.oth)throw new m.T0('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":var c;return(c={...a,alg:b}).d?(0,e.createPrivateKey)({format:"jwk",key:c}):(0,e.createPublicKey)({format:"jwk",key:c});default:throw new m.T0('Unsupported "kty" (Key Type) Parameter value')}}async function u(a,b,c){let e,f;if(!(0,p.A)(a))throw new m.Ye("Flattened JWS must be an object");if(void 0===a.protected&&void 0===a.header)throw new m.Ye('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==a.protected&&"string"!=typeof a.protected)throw new m.Ye("JWS Protected Header incorrect type");if(void 0===a.payload)throw new m.Ye("JWS Payload missing");if("string"!=typeof a.signature)throw new m.Ye("JWS Signature missing or incorrect type");if(void 0!==a.header&&!(0,p.A)(a.header))throw new m.Ye("JWS Unprotected Header incorrect type");let g={};if(a.protected)try{let b=(0,d.D4)(a.protected);g=JSON.parse(n.D0.decode(b))}catch{throw new m.Ye("JWS Protected Header is invalid")}if(!(0,o.A)(g,a.header))throw new m.Ye("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let h={...g,...a.header},i=(0,r.A)(m.Ye,new Map([["b64",!0]]),c?.crit,g,h),j=!0;if(i.has("b64")&&"boolean"!=typeof(j=g.b64))throw new m.Ye('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:k}=h;if("string"!=typeof k||!k)throw new m.Ye('JWS "alg" (Algorithm) Header Parameter missing or invalid');let u=c&&((a,b)=>{if(void 0!==b&&(!Array.isArray(b)||b.some(a=>"string"!=typeof a)))throw TypeError(`"${a}" option must be an array of strings`);if(b)return new Set(b)})("algorithms",c.algorithms);if(u&&!u.has(k))throw new m.Rb('"alg" (Algorithm) Header Parameter value not allowed');if(j){if("string"!=typeof a.payload)throw new m.Ye("JWS Payload must be a string")}else if("string"!=typeof a.payload&&!(a.payload instanceof Uint8Array))throw new m.Ye("JWS Payload must be a string or an Uint8Array instance");let v=!1;"function"==typeof b?(b=await b(g,a),v=!0,(0,q.I)(k,b,"verify"),(0,s.ll)(b)&&(b=await t(b,k))):(0,q.I)(k,b,"verify");let w=(0,n.xW)(n.Rd.encode(a.protected??""),n.Rd.encode("."),"string"==typeof a.payload?n.Rd.encode(a.payload):a.payload);try{e=(0,d.D4)(a.signature)}catch{throw new m.Ye("Failed to base64url decode the signature")}if(!await l(k,b,e,w))throw new m.h2;if(j)try{f=(0,d.D4)(a.payload)}catch{throw new m.Ye("Failed to base64url decode the payload")}else f="string"==typeof a.payload?n.Rd.encode(a.payload):a.payload;let x={payload:f};return(void 0!==a.protected&&(x.protectedHeader=g),void 0!==a.header&&(x.unprotectedHeader=a.header),v)?{...x,key:b}:x}async function v(a,b,c){if(a instanceof Uint8Array&&(a=n.D0.decode(a)),"string"!=typeof a)throw new m.Ye("Compact JWS must be a string or Uint8Array");let{0:d,1:e,2:f,length:g}=a.split(".");if(3!==g)throw new m.Ye("Invalid Compact JWS");let h=await u({payload:e,protected:d,signature:f},b,c),i={payload:h.payload,protectedHeader:h.protectedHeader};return"function"==typeof b?{...i,key:h.key}:i}var w=c(57129),x=c(83368);let y=a=>a.toLowerCase().replace(/^application\//,"");async function z(a,b,c){let d=await v(a,b,c);if(d.protectedHeader.crit?.includes("b64")&&!1===d.protectedHeader.b64)throw new m.Dp("JWTs MUST NOT use unencoded payload");let e={payload:((a,b,c={})=>{let d,e,f,g;try{d=JSON.parse(n.D0.decode(b))}catch{}if(!(0,p.A)(d))throw new m.Dp("JWT Claims Set must be a top-level JSON object");let{typ:h}=c;if(h&&("string"!=typeof a.typ||y(a.typ)!==y(h)))throw new m.ie('unexpected "typ" JWT header value',d,"typ","check_failed");let{requiredClaims:i=[],issuer:j,subject:k,audience:l,maxTokenAge:o}=c,q=[...i];for(let a of(void 0!==o&&q.push("iat"),void 0!==l&&q.push("aud"),void 0!==k&&q.push("sub"),void 0!==j&&q.push("iss"),new Set(q.reverse())))if(!(a in d))throw new m.ie(`missing required "${a}" claim`,d,a,"missing");if(j&&!(Array.isArray(j)?j:[j]).includes(d.iss))throw new m.ie('unexpected "iss" claim value',d,"iss","check_failed");if(k&&d.sub!==k)throw new m.ie('unexpected "sub" claim value',d,"sub","check_failed");if(l&&(f=d.aud,g="string"==typeof l?[l]:l,"string"==typeof f?!g.includes(f):!(!!Array.isArray(f)&&g.some(Set.prototype.has.bind(new Set(f))))))throw new m.ie('unexpected "aud" claim value',d,"aud","check_failed");switch(typeof c.clockTolerance){case"string":e=(0,x.A)(c.clockTolerance);break;case"number":e=c.clockTolerance;break;case"undefined":e=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:r}=c,s=(0,w.A)(r||new Date);if((void 0!==d.iat||o)&&"number"!=typeof d.iat)throw new m.ie('"iat" claim must be a number',d,"iat","invalid");if(void 0!==d.nbf){if("number"!=typeof d.nbf)throw new m.ie('"nbf" claim must be a number',d,"nbf","invalid");if(d.nbf>s+e)throw new m.ie('"nbf" claim timestamp check failed',d,"nbf","check_failed")}if(void 0!==d.exp){if("number"!=typeof d.exp)throw new m.ie('"exp" claim must be a number',d,"exp","invalid");if(d.exp<=s-e)throw new m.n('"exp" claim timestamp check failed',d,"exp","check_failed")}if(o){let a=s-d.iat;if(a-e>("number"==typeof o?o:(0,x.A)(o)))throw new m.n('"iat" claim timestamp check failed (too far in the past)',d,"iat","check_failed");if(a<0-e)throw new m.ie('"iat" claim timestamp check failed (it should be in the past)',d,"iat","check_failed")}return d})(d.protectedHeader,d.payload,c),protectedHeader:d.protectedHeader};return"function"==typeof b?{...e,key:d.key}:e}}};