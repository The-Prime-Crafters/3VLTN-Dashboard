(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[970],{5749:(e,t,s)=>{Promise.resolve().then(s.bind(s,6561))},6561:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var a=s(5155),r=s(2115),l=s(2619),o=s.n(l);function n(){let[e,t]=(0,r.useState)(""),[s,l]=(0,r.useState)(null),[n,i]=(0,r.useState)(!1),[c,d]=(0,r.useState)("");async function x(t){if(t.preventDefault(),!e.trim())return void d("Please enter a ticket ID");i(!0),d(""),l(null);try{let t=await fetch("".concat("http://localhost:3001","/api/public/ticket/").concat(e));if(!t.ok)return void(404===t.status?d("Ticket not found. Please check your ticket ID."):d("Unable to fetch ticket. Please try again."));let s=await t.json();l(s.ticket)}catch(e){console.error("Error fetching ticket:",e),d("Unable to connect to server. Please try again later.")}finally{i(!1)}}return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#0a0a0a] to-[#1a1a1a] py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsxs)("div",{className:"inline-flex items-center space-x-3 mb-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-yellow-400 to-yellow-600 flex items-center justify-center shadow-lg shadow-yellow-400/30",children:(0,a.jsx)("span",{className:"text-2xl font-bold text-black",children:"3V"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold gradient-text",children:"3VLTN Support"})]}),(0,a.jsx)("p",{className:"text-gray-400 text-lg",children:"Track Your Support Ticket"})]}),(0,a.jsx)("div",{className:"bg-gradient-to-br from-gray-900/80 to-gray-900/40 backdrop-blur-sm border border-gray-800/50 rounded-2xl p-8 shadow-2xl mb-8",children:(0,a.jsxs)("form",{onSubmit:x,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"\uD83C\uDFAB Enter Your Ticket ID"}),(0,a.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value.toUpperCase()),placeholder:"e.g., TICK-20250116-ABC123",className:"w-full px-4 py-4 bg-gray-800/60 border border-gray-700/50 rounded-xl text-white text-lg placeholder-gray-400 focus:outline-none focus:border-yellow-400 focus:ring-2 focus:ring-yellow-400/20 transition-all font-mono",disabled:n}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Your ticket ID was sent to your email when you submitted your request"})]}),c&&(0,a.jsx)("div",{className:"p-4 bg-red-500/10 border border-red-500/50 rounded-xl",children:(0,a.jsx)("p",{className:"text-red-400 text-sm",children:c})}),(0,a.jsx)("button",{type:"submit",disabled:n,className:"w-full py-4 bg-gradient-to-r from-yellow-400 to-yellow-500 hover:from-yellow-500 hover:to-yellow-600 text-black font-bold rounded-xl transition-all duration-200 shadow-lg shadow-yellow-400/30 hover:shadow-yellow-400/50 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 text-lg",children:n?(0,a.jsxs)("span",{className:"flex items-center justify-center",children:[(0,a.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-3",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Searching..."]}):"\uD83D\uDD0D Track Ticket"})]})}),s&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-gray-900/80 to-gray-900/40 backdrop-blur-sm border border-gray-800/50 rounded-2xl p-8 shadow-2xl",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:s.subject}),(0,a.jsxs)("p",{className:"text-gray-400 font-mono text-sm",children:["Ticket ID: ",s.ticket_id]})]}),(0,a.jsxs)("div",{className:"mt-4 md:mt-0 inline-flex items-center space-x-2 px-6 py-3 rounded-xl bg-gradient-to-r ".concat(function(e){let t={open:"from-blue-500 to-blue-600",in_progress:"from-yellow-500 to-yellow-600",resolved:"from-green-500 to-green-600",closed:"from-gray-500 to-gray-600"};return t[e]||t.open}(s.status)," text-white font-bold shadow-lg"),children:[(0,a.jsx)("span",{className:"text-2xl",children:{open:"\uD83C\uDD95",in_progress:"⏳",resolved:"✅",closed:"\uD83D\uDD12"}[s.status]||"\uD83D\uDCDD"}),(0,a.jsx)("span",{className:"text-lg capitalize",children:s.status.replace("_"," ")})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-6 bg-gray-800/30 rounded-xl",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-400 text-sm font-medium",children:"Created"}),(0,a.jsx)("p",{className:"font-semibold text-white mt-1",children:new Date(s.created_at).toLocaleDateString()}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[function(e){let t=new Date(e);return Math.ceil(Math.abs(new Date-t)/864e5)}(s.created_at)," day(s) ago"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-400 text-sm font-medium",children:"Priority"}),(0,a.jsx)("p",{className:"font-semibold text-white mt-1 capitalize",children:s.priority})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-400 text-sm font-medium",children:"Last Updated"}),(0,a.jsx)("p",{className:"font-semibold text-white mt-1",children:s.updated_at?new Date(s.updated_at).toLocaleDateString():"N/A"})]})]}),(0,a.jsx)("div",{className:"mt-6 p-4 bg-blue-500/10 border border-blue-500/30 rounded-xl",children:(0,a.jsxs)("p",{className:"text-blue-400 text-sm",children:["open"===s.status&&"\uD83D\uDCA1 Your ticket has been received and is waiting to be assigned to a support agent.","in_progress"===s.status&&"⚡ Our team is actively working on your request. You should receive an update soon.","resolved"===s.status&&"\uD83C\uDF89 Your ticket has been resolved! If you need further assistance, please reply to the email.","closed"===s.status&&"✅ This ticket has been closed. If you need to reopen it, please contact us."]})}),s.message_count>0&&(0,a.jsxs)("div",{className:"mt-4 text-center",children:[(0,a.jsxs)("p",{className:"text-gray-400 text-sm",children:["\uD83D\uDCAC ",s.message_count," response(s) from our team"]}),(0,a.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:"Check your email for detailed updates"})]})]}),(0,a.jsx)("div",{className:"bg-gradient-to-br from-orange-900/40 to-orange-900/20 backdrop-blur-sm border border-orange-500/30 rounded-2xl p-6 shadow-xl",children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("span",{className:"text-4xl",children:"\uD83D\uDCE2"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-orange-400 mb-2",children:"Need to Escalate?"}),(0,a.jsx)("p",{className:"text-gray-300 mb-4",children:"If your ticket needs urgent attention or you have concerns, you can file an escalation complaint to our management team."}),(0,a.jsxs)(o(),{href:"/complaint?ticket=".concat(s.ticket_id),className:"inline-flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold rounded-xl transition-all duration-200 shadow-lg hover:scale-105",children:[(0,a.jsx)("span",{children:"\uD83D\uDCE2"}),(0,a.jsx)("span",{children:"File Escalation Complaint"})]})]})]})})]})]})})}}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=5749)),_N_E=e.O()}]);