(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[745],{2352:(e,s,t)=>{Promise.resolve().then(t.bind(t,9939)),Promise.resolve().then(t.bind(t,8644)),Promise.resolve().then(t.bind(t,9222)),Promise.resolve().then(t.bind(t,8810))},8644:(e,s,t)=>{"use strict";t.d(s,{default:()=>l});var a=t(5155),r=t(2115);let l=()=>{let[e,s]=(0,r.useState)(null),[t,l]=(0,r.useState)(!0);if((0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/analytics/stats"),t=await e.json();s(t)}catch(e){console.error("Error fetching analytics stats:",e),s({pageViews:"0",uniqueVisitors:"0",bounceRate:"0%",avgSessionDuration:"0m 0s"})}finally{l(!1)}})()},[]),t)return(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6 animate-pulse",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-700 rounded w-3/4 mb-2"}),(0,a.jsx)("div",{className:"h-8 bg-gray-700 rounded w-1/2 mb-4"}),(0,a.jsx)("div",{className:"h-3 bg-gray-700 rounded w-1/3"})]},s))});let i=[{title:"Page Views",value:(null==e?void 0:e.pageViews)||"0",change:"+15.3%",changeType:"positive",icon:"\uD83D\uDC41️"},{title:"Unique Visitors",value:(null==e?void 0:e.uniqueVisitors)||"0",change:"+8.7%",changeType:"positive",icon:"\uD83D\uDC64"},{title:"Bounce Rate",value:(null==e?void 0:e.bounceRate)||"0%",change:"-5.2%",changeType:"negative",icon:"\uD83D\uDCCA"},{title:"Avg. Session Duration",value:(null==e?void 0:e.avgSessionDuration)||"0m 0s",change:"+12.8%",changeType:"positive",icon:"⏱️"}];return(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map((e,s)=>(0,a.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6 hover:border-yellow-400/50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm font-medium",children:e.title}),(0,a.jsx)("p",{className:"text-2xl font-bold text-white mt-1",children:e.value})]}),(0,a.jsx)("div",{className:"text-3xl",children:e.icon})]}),(0,a.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,a.jsx)("span",{className:"text-sm font-medium ".concat("positive"===e.changeType?"text-green-400":"negative"===e.changeType?"text-red-400":"text-gray-400"),children:e.change}),(0,a.jsx)("span",{className:"text-gray-500 text-sm ml-2",children:"vs last month"})]})]},s))})}},8810:(e,s,t)=>{"use strict";t.d(s,{default:()=>l});var a=t(5155),r=t(2115);let l=()=>{let[e,s]=(0,r.useState)(null),[t,l]=(0,r.useState)(!0);if((0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/analytics/stats"),t=await e.json();s(t)}catch(e){console.error("Error fetching distribution data:",e),s({tierDistribution:[],statusDistribution:[]})}finally{l(!1)}})()},[]),t)return(0,a.jsx)("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-700 rounded w-1/3 mb-6"}),(0,a.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsx)("div",{className:"h-8 bg-gray-700 rounded"},s))})]})});let i=(null==e?void 0:e.tierDistribution)||[],n=(null==e?void 0:e.statusDistribution)||[];return(0,a.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white mb-6",children:"User Distribution"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"By Subscription Tier"}),(0,a.jsx)("div",{className:"space-y-3",children:i.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded ".concat((e=>{switch(e){case"freemium":default:return"bg-gray-500";case"basic":return"bg-blue-500";case"professional":return"bg-yellow-500";case"enterprise":return"bg-purple-500"}})(e.subs_tier))}),(0,a.jsx)("span",{className:"text-gray-300 capitalize",children:e.subs_tier})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"text-white font-semibold",children:e.count}),(0,a.jsxs)("span",{className:"text-gray-400 text-sm",children:["(",e.percentage,"%)"]})]})]},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"By Status"}),(0,a.jsx)("div",{className:"space-y-3",children:n.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded ".concat((e=>{switch(e){case"active":return"bg-green-500";case"inactive":default:return"bg-gray-500";case"suspended":return"bg-red-500"}})(e.subscription_status))}),(0,a.jsx)("span",{className:"text-gray-300 capitalize",children:e.subscription_status})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"text-white font-semibold",children:e.count}),(0,a.jsxs)("span",{className:"text-gray-400 text-sm",children:["(",e.percentage,"%)"]})]})]},s))})]})]})]})}},9222:(e,s,t)=>{"use strict";t.d(s,{default:()=>l});var a=t(5155),r=t(2115);let l=()=>{let[e,s]=(0,r.useState)([]),[t,l]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/analytics/stats"),t=await e.json();s(t.topUsers||[])}catch(e){console.error("Error fetching top users:",e),s([])}finally{l(!1)}})()},[]),t)?(0,a.jsx)("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-700 rounded w-1/3 mb-6"}),(0,a.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsx)("div",{className:"h-16 bg-gray-700 rounded"},s))})]})}):(0,a.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Top Active Users"}),(0,a.jsx)("button",{className:"text-yellow-400 hover:text-yellow-300 text-sm font-medium",children:"View All"})]}),(0,a.jsx)("div",{className:"space-y-4",children:e.length>0?e.map((e,s)=>{var t,r;let l=(e=>{if(!e)return 0;let s=Math.floor((new Date-new Date(e))/36e5);return s<1?100:s<24?Math.max(90-2*s,50):s<168?Math.max(70-(s-24)*.5,20):Math.max(20-(s-168)*.1,0)})(e.lastActive);return(0,a.jsxs)("div",{className:"flex items-center space-x-4 p-3 rounded-lg hover:bg-gray-800 transition-colors",children:[(0,a.jsx)("div",{className:"text-2xl",children:"\uD83D\uDC64"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("p",{className:"text-white font-medium truncate",children:e.name}),(0,a.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat((e=>{switch(e){case"freemium":default:return"text-gray-400";case"basic":return"text-blue-400";case"professional":return"text-yellow-400";case"enterprise":return"text-purple-400"}})(e.plan)," bg-gray-800"),children:(null==(t=e.plan)?void 0:t.charAt(0).toUpperCase())+(null==(r=e.plan)?void 0:r.slice(1))||"N/A"})]}),(0,a.jsx)("p",{className:"text-gray-400 text-sm truncate",children:e.email}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mt-1",children:[(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["Activity: ",Math.round(l),"%"]}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["Last active: ",(e=>{if(!e)return"Never";let s=new Date(e),t=Math.floor((new Date-s)/36e5);if(t<1)return"Just now";if(t<24)return"".concat(t,"h ago");let a=Math.floor(t/24);return a<7?"".concat(a,"d ago"):s.toLocaleDateString()})(e.lastActive)]})]})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsx)("div",{className:"w-16 bg-gray-700 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:"".concat(l,"%")}})})})]},e.id||s)}):(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-gray-400",children:"No active users found"})})})]})}},9939:(e,s,t)=>{"use strict";t.d(s,{default:()=>l});var a=t(5155),r=t(2115);let l=()=>{let[e,s]=(0,r.useState)(null),[t,l]=(0,r.useState)(!0);if((0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/analytics/stats"),t=await e.json();s(t)}catch(e){console.error("Error fetching chart data:",e),s({userGrowth:[],revenueGrowth:[]})}finally{l(!1)}})()},[]),t)return(0,a.jsx)("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-700 rounded w-1/3 mb-6"}),(0,a.jsx)("div",{className:"h-64 bg-gray-700 rounded"})]})});let i=(null==e?void 0:e.userGrowth)||[],n=(null==e?void 0:e.revenueGrowth)||[],c=[...new Set([...i.map(e=>e.month),...n.map(e=>e.month)])].sort().map(e=>{let s=i.find(s=>s.month===e),t=n.find(s=>s.month===e);return{month:e.slice(5),users:(null==s?void 0:s.users)||0,revenue:(null==t?void 0:t.revenue)||0}}),d=Math.max(...c.map(e=>e.users),1),o=Math.max(...c.map(e=>e.revenue),1);return(0,a.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white",children:"User Growth & Revenue"}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsx)("button",{className:"px-3 py-1 bg-yellow-400 text-black rounded text-sm font-medium",children:"6M"}),(0,a.jsx)("button",{className:"px-3 py-1 bg-gray-800 text-white rounded text-sm font-medium hover:bg-gray-700",children:"1Y"})]})]}),c.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"h-64 flex items-end space-x-2",children:c.map((e,s)=>(0,a.jsxs)("div",{className:"flex-1 flex flex-col items-center",children:[(0,a.jsxs)("div",{className:"w-full flex flex-col items-center space-y-1",children:[(0,a.jsx)("div",{className:"w-full bg-yellow-400 rounded-t",style:{height:"".concat(e.revenue/o*100,"px")},title:"Revenue: $".concat(e.revenue.toLocaleString())}),(0,a.jsx)("div",{className:"w-full bg-blue-500 rounded-b",style:{height:"".concat(e.users/d*100,"px")},title:"Users: ".concat(e.users.toLocaleString())})]}),(0,a.jsx)("div",{className:"mt-2 text-xs text-gray-400",children:e.month})]},s))}),(0,a.jsxs)("div",{className:"mt-4 flex items-center justify-center space-x-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-yellow-400 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"Revenue"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"Users"})]})]})]}):(0,a.jsx)("div",{className:"h-64 flex items-center justify-center",children:(0,a.jsx)("p",{className:"text-gray-400",children:"No data available"})})]})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=2352)),_N_E=e.O()}]);